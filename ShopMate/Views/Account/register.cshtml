@model RegisterVM
@{
    Layout = "_LoginRegisterLayout";
    ViewData["Title"] = "Register";


}


    <div class="d-lg-flex ">
    <div class="bg order-1 order-md-2 col-lg-5" style="background-image: url('/images/about-01.jpg');"></div>
    <div class="contents order-2 order-md-1 col-lg-7">
            <div class="container">
                <div class="row align-items-center justify-content-center">
                    <div class="col-md-10">
                        <h3 style="margin-top: 23px;">Register to <strong>ShopMapte</strong></h3>
                        <p class="mb-4">Lorem ipsum dolor sit amet elit. Sapiente sit aut eos consectetur adipisicing.</p>
                    <form asp-action="Register" id="registerForm" enctype="multipart/form-data">
                        <div asp-validation-summary="ModelOnly" class="text-danger"></div>

                        <div class="row">
                            <div class="col-md-12">

                                <div class="form-group">
                                    <label asp-for="Email"></label>
                                    <input asp-for="Email" class="form-control" placeholder="Your Email">
                                    <span asp-validation-for="Email" class="text-danger"></span>
                                </div>
                            </div>

                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="FirstName" ></label>
                                    <input asp-for="FirstName" class="form-control"  placeholder="Enter Your First Name">
                                    <span asp-validation-for="FirstName"></span>

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="LastName"></label>
                                    <input asp-for="LastName" class="form-control"  placeholder="Enter Your Last Name">
                                    <span asp-validation-for="LastName"></span>
                                </div>
                            </div>
                        </div>



                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="UserName"></label>
                                    <input asp-for="UserName" class="form-control" placeholder="Enter Your Username">
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="Gender"></label>
                                    <select asp-for="Gender" asp-items="Html.GetEnumSelectList<Gender>()" class="form-control">
                                        <option disabled selected value="">Select Gender</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                        

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label asp-for="Address"></label>
                                    <input asp-for="Address" class="form-control" placeholder="Enter Your Address">
                                    <span asp-validation-for="Address" class="text-danger"></span>

                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                <label asp-for="PhoneNumber"></label>
                                <input asp-for="PhoneNumber" class="form-control" placeholder="Your Phone Number">
                                <span asp-validation-for="PhoneNumber" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        

                            <div class="form-group">
                                <label asp-for="Password"></label>
                                <div class="input-group">
                                <input asp-for="Password" class="form-control" placeholder="Your Password">
                                    <div class="input-group-append">
                                        <span class="input-group-text" onclick="togglePassword('Password')">
                                            <i class="icon-eye"></i>
                                        </span>
                                    </div>
                                </div>
                            <span asp-validation-for="Password" class="text-danger"></span>

                            </div>
                            <div class="form-group last mb-3">
                            <label asp-for="ConfirmPassword"></label>
                                <div class="input-group">
                                <input asp-for="ConfirmPassword" class="form-control" placeholder="Confirm Your Password">
                                    <div class="input-group-append">
                                    <span class="input-group-text" onclick="togglePassword('ConfirmPassword')">
                                            <i class="icon-eye"></i>
                                        </span>
                                    </div>
                                </div>
                            <span asp-validation-for="ConfirmPassword" class="text-danger"></span>

                            </div>

                        <div class="row">
                            <div class="col-md-12">

                                <div class="form-group">
                                    <label asp-for="ProfileImage" class="form-label">Profile Image</label>

                                    <div class="custom-file">
                                        <input asp-for="ProfileImage" type="file" class="custom-file-input" id="profileImageInput" accept="image/*">
                                        <label class="custom-file-label" for="profileImageInput">Choose file</label>
                                        <span asp-validation-for="ProfileImage" class="text-danger"></span>

                                    </div>
                                </div>


                                <!-- Preview Image -->
                                <div class="mt-3">
                                    <img id="profileImagePreview" src="" alt="Profile Preview" class="img-thumbnail d-none" width="150">
                                </div>
                            </div>

                        </div>





                        <div class="d-flex mb-5 align-items-center">
                            <label class="control control--checkbox mb-0">
                                <span class="caption"></span>
                                <input type="checkbox" asp-for="RememberMe" checked="checked" /> @Html.DisplayNameFor(model => model.RememberMe)
                                <div class="control__indicator"></div>
                            </label>
                        </div>

                            <input type="submit" value="Register" class="btn btn-block btn-primary">
                            <p class="text-center mt-3" style="color: black;">Already have an account? <a asp-action="Login">Login</a></p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

@* @section Scripts { // add it in the layout
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    } *@

@* @section Scripts {
    <partial name="_ValidationScriptsPartial" />
   
} *@
<script>
    document.getElementById('profileImageInput').addEventListener('change', function (event) {
        const file = event.target.files[0];
        const label = document.querySelector('.custom-file-label'); // Label inside file input
        if (file) {
            if (!file.type.startsWith('image/')) {
                alert("Please select a valid image file.");
                return;
            }

            // Update label text with file name
            label.textContent = file.name;

            // Show image preview
            const reader = new FileReader();
            reader.onload = function (e) {
                const img = document.getElementById('profileImagePreview');
                img.src = e.target.result;
                img.classList.remove('d-none'); // Show the preview
            };
            reader.readAsDataURL(file);
        }
    });
</script>
 
